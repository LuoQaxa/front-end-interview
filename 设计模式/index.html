<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <form id='login-form' action="" method="post">
    <label for="account">手机号</label>
    <input type="number" id="account" name="account">
    <label for="password">密码</label>
    <input type="password" id="password" name="password">
    <button id='login'>登录</button>
  </form>
  <script>
    var loginForm = document.getElementById('login-form');

    loginForm.onsubmit = function (e) {
      e.preventDefault();
      var account = document.getElementById("account").value;
      var pwd = document.getElementById("password").value;

      // 先定义一个策略
      var strategies = {
        isNonEmpty: function (value, errorMsg) {
          if (value === '' || value === null) {
            return errorMsg;
          }
        },
        isMobile: function (value, errorMsg) { // 手机号码格式
          if (!/(^1[3|4|5|7|8][0-9]{9}$)/.test(value)) {
            return errorMsg;
          }
        },
        minLength: function (value, length, errorMsg) {
          if (value.length < length) {
            return errorMsg;
          }
        }
      };

      // 使用策略
      // 定义策略和使用策略

      // if (account === null || account === '') {
      //   alert('手机号不能为空')
      //   return false;
      // }
      var accountIsMoblie = strategies.isMobile(account, '手机号不能为空')
      // if (pwd === null || pwd === '') {
      //   alert('密码不能为空')
      //   return false;
      // }
      var pwdMinLength = strategies.minLength(pwd, 8, '密码不能小于8位');
      // if (!/(^1[3|4|5|7|8][0-9]{9}$)/.test(account)) {
      //   alert('手机号格式错误')
      //   return false;
      // }
      
      if (pwd.length < 6) {
        alert('密码不能小于六位')
        return false;
      }
      // ajax 发送请求
    }
  </script>

</body>
</html>